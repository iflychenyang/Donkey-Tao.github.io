<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="iOS，swift" />





  <link rel="alternate" href="/atom.xml" title="陶飞的技术博客" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/img/Donkey.jpg?v=5.1.0" />






<meta name="description" content="申明:本篇博文内容属原创,如需转载请注明出处.
Swift介绍
历史
2014年苹果在WWDC上发布；10年开始，一年后完成基本框架，14年6月发布；
作者：Chris Lattner；
领导过Xcode,Instruments等编译器；LLVM项目发起人与作者之一；Clang编译器的作者;




特点：
有Objective-C,JavaScript,C#,Python的影子；
提供了类似Ja">
<meta property="og:type" content="article">
<meta property="og:title" content="Swift学习笔记">
<meta property="og:url" content="http://Donkey-Tao.github.io/2016/03/16/2016-03-16-Swift学习笔记/index.html">
<meta property="og:site_name" content="陶飞的技术博客">
<meta property="og:description" content="申明:本篇博文内容属原创,如需转载请注明出处.
Swift介绍
历史
2014年苹果在WWDC上发布；10年开始，一年后完成基本框架，14年6月发布；
作者：Chris Lattner；
领导过Xcode,Instruments等编译器；LLVM项目发起人与作者之一；Clang编译器的作者;




特点：
有Objective-C,JavaScript,C#,Python的影子；
提供了类似Ja">
<meta property="og:updated_time" content="2017-06-22T05:34:22.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Swift学习笔记">
<meta name="twitter:description" content="申明:本篇博文内容属原创,如需转载请注明出处.
Swift介绍
历史
2014年苹果在WWDC上发布；10年开始，一年后完成基本框架，14年6月发布；
作者：Chris Lattner；
领导过Xcode,Instruments等编译器；LLVM项目发起人与作者之一；Clang编译器的作者;




特点：
有Objective-C,JavaScript,C#,Python的影子；
提供了类似Ja">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://Donkey-Tao.github.io/2016/03/16/2016-03-16-Swift学习笔记/"/>





  <title> Swift学习笔记 | 陶飞的技术博客 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?9833b52c905ccc936c62c38135a70622";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>







  <div style="display: none;">
    <script src="//s95.cnzz.com/z_stat.php?id=1260084222&web_id=1260084222" language="JavaScript"></script>
  </div>






  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">陶飞的技术博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">自强不息,厚德载物</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocapitalize="off" autocomplete="off" autocorrect="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://Donkey-Tao.github.io/2016/03/16/2016-03-16-Swift学习笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tao Fei">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="陶飞的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Swift学习笔记
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-03-16T22:29:39+08:00">
                2016-03-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/swift/" itemprop="url" rel="index">
                    <span itemprop="name">swift</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/03/16/2016-03-16-Swift学习笔记/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/16/2016-03-16-Swift学习笔记/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2016/03/16/2016-03-16-Swift学习笔记/" class="leancloud_visitors" data-flag-title="Swift学习笔记">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><code>申明:本篇博文内容属原创,如需转载请注明出处.</code></p>
<h2 id="Swift介绍"><a href="#Swift介绍" class="headerlink" title="Swift介绍"></a>Swift介绍</h2><ul>
<li>历史<ul>
<li>2014年苹果在WWDC上发布；10年开始，一年后完成基本框架，14年6月发布；</li>
<li>作者：Chris Lattner；</li>
<li>领导过Xcode,Instruments等编译器；LLVM项目发起人与作者之一；Clang编译器的作者;</li>
</ul>
</li>
</ul>
<ul>
<li>特点：<ul>
<li>有Objective-C,JavaScript,C#,Python的影子；</li>
<li>提供了类似Java的命名空间(namespace)，泛型(generic),运算对象重载(operator overloading)</li>
</ul>
</li>
<li>资源网站<ul>
<li>The Swift Programming Language</li>
</ul>
</li>
</ul>
<h2 id="初体验之Playground"><a href="#初体验之Playground" class="headerlink" title="初体验之Playground"></a>初体验之Playground</h2><p>Playground是从Xcode6开始出现的；且只支持swift代码，OC代码会报错</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 1.swift中如何导入框架</span></div><div class="line"><span class="comment">// #import &lt;UIKit/UIKit.h&gt;</span></div><div class="line"><span class="keyword">import</span> UIKit</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// 2.如何定义标识符</span></div><div class="line"><span class="comment">// int a =20 ;</span></div><div class="line"><span class="comment">// swift中定义标识符：必须告诉编译器是常量还是变量</span></div><div class="line"><span class="comment">// let修饰常量,定义之后不可以再修改</span></div><div class="line"><span class="comment">// var修饰变量,定义之后可以修改</span></div><div class="line"><span class="comment">// let/var 标识符的名称 : 标识符的数据类型 = 值</span></div><div class="line"><span class="keyword">let</span> a : <span class="type">Int</span> = <span class="number">20</span> ;</div><div class="line"><span class="comment">//a = 30;</span></div><div class="line"><span class="keyword">var</span> b : <span class="type">Double</span> = <span class="number">1.44</span></div><div class="line">b = <span class="number">2.44</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// 3.语句结束</span></div><div class="line"><span class="comment">//如果一行中只有一条语句，那么该语句结束后，可以不加分号，可以省略</span></div><div class="line"><span class="comment">//如果一行中有多条语句，那么需要分号分割</span></div><div class="line"></div><div class="line"><span class="comment">// 4.打印内容</span></div><div class="line"><span class="comment">// NSLog(@"%d",a);</span></div><div class="line"><span class="comment">// 学习Python;</span></div><div class="line"><span class="built_in">print</span>(a);</div></pre></td></tr></table></figure>
<p><code>关于常量和变量的使用注意:</code></p>
<ul>
<li>在真是使用过程中，建议先定义常量，如果需要修改再修改为变量，这样可以使程序更加安全；</li>
<li>常量的本质是它保存的内容地址不能修改，但是可以通过指针获取对象，拿到的内存地址对其属性进行修改；</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//常量的使用注意</span></div><div class="line"><span class="keyword">let</span> m :<span class="type">Int</span> = <span class="number">10</span></div><div class="line"><span class="comment">//创建常量对象;OC创建对象：[[UIView alloc]init]</span></div><div class="line"><span class="comment">//swift中创建对象: UIView()</span></div><div class="line"><span class="keyword">let</span> view : <span class="type">UIView</span> = <span class="type">UIView</span>()</div><div class="line"><span class="comment">//let view : UIView = UIView()</span></div><div class="line">view.backgroundColor = <span class="type">UIColor</span>.red<span class="comment">//Xcode8.2.1后修改的</span></div><div class="line">view.frame = <span class="type">CGRect</span>.<span class="keyword">init</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">0</span>, height: <span class="number">0</span>)<span class="comment">//Xcode8.2.1后修改的 </span></div><div class="line">view.alpha = <span class="number">0.5</span></div><div class="line">view.isHidden = <span class="literal">true</span> <span class="comment">//Bool类型与BOOL不同，Bool: true/false ，BOOL : YES/NO</span></div></pre></td></tr></table></figure>
<h2 id="Swift中的数据类型"><a href="#Swift中的数据类型" class="headerlink" title="Swift中的数据类型"></a>Swift中的数据类型</h2><ul>
<li>整型：<ul>
<li>有符号<ul>
<li>Int8:有符号8位整型……</li>
<li>Int:和平台相关（默认相当于OC中的NSInteger）</li>
</ul>
</li>
<li>无符号<ul>
<li>UInt8:无符号8位整型……</li>
<li>UInt:和平台相关（常用，相当于OC中的NSUInteger）</li>
</ul>
</li>
</ul>
</li>
<li><p>浮点型</p>
<ul>
<li>Float:32位浮点型</li>
<li>Double:64位浮点型（默认）</li>
</ul>
<h3 id="Swift中的类型推到"><a href="#Swift中的类型推到" class="headerlink" title="Swift中的类型推到"></a>Swift中的类型推到</h3></li>
<li><p>swift是一种强类型语言</p>
</li>
<li>swift中任何一个标识符都有明确的类型</li>
<li>注意：<ul>
<li>如果定义一个标识符时有直接进行赋值，那么标识符后面的类型可以省略。</li>
<li>因为Swift中有类型推到，可以根据赋值推到出改标识符的类型</li>
<li>可以通过<code>option</code>+<code>鼠标左键</code>来查看变量的数据类型</li>
</ul>
</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//数据类型,类型推到</span></div><div class="line"><span class="keyword">let</span> tf = <span class="number">10</span></div><div class="line"><span class="keyword">let</span> taofei  = <span class="number">2.44</span></div><div class="line"><span class="keyword">let</span> donkey = taofei</div><div class="line"><span class="keyword">let</span> <span class="type">DonkeyView</span> = <span class="type">UIView</span>()</div><div class="line"><span class="keyword">let</span> <span class="type">DonkeyButton</span> = <span class="type">UIButton</span>()</div><div class="line"></div><div class="line"><span class="keyword">var</span> feifei :<span class="type">Int</span></div><div class="line">feifei=<span class="number">10</span></div></pre></td></tr></table></figure>
<h2 id="Swift中的基本计算"><a href="#Swift中的基本计算" class="headerlink" title="Swift中的基本计算"></a>Swift中的基本计算</h2><p>Swift中进行基本运算时必须保证类型一致，否则会出错</p>
<ul>
<li>相同类型之间才能进行基本运算</li>
<li>swift中没有隐式类型转换</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//swift中的基本运算</span></div><div class="line"><span class="comment">//将整型转换为浮点型:Double(标识符)</span></div><div class="line"><span class="keyword">let</span> tt = <span class="number">20</span></div><div class="line"><span class="keyword">let</span> ff = <span class="number">3.14</span></div><div class="line"><span class="keyword">let</span> temptt=<span class="type">Double</span>(tt)</div><div class="line"><span class="keyword">let</span> result = temptt+ff</div><div class="line"></div><div class="line"><span class="comment">//将浮点型转换为整型:Int(标识符)</span></div><div class="line"><span class="keyword">let</span> tempff=<span class="type">Int</span>(ff)</div><div class="line"><span class="keyword">let</span> result2=tempff+tt</div></pre></td></tr></table></figure>
<h2 id="逻辑分支"><a href="#逻辑分支" class="headerlink" title="逻辑分支"></a>逻辑分支</h2><h3 id="if-else-if分支的使用"><a href="#if-else-if分支的使用" class="headerlink" title="if-else-if分支的使用"></a>if-else-if分支的使用</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//1. if 后面的（）可以省略</span></div><div class="line"><span class="comment">//2. 判断句不再有非0/nil即真,判断句必须有明确的真假(Bool)</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> logic = <span class="number">10</span></div><div class="line"><span class="keyword">if</span> logic &gt; <span class="number">0</span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"logic大于0"</span>,logic)</div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"logic小于0"</span>,logic)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//swift中的else if 的用法</span></div><div class="line"><span class="keyword">let</span> score = <span class="number">92</span></div><div class="line"><span class="keyword">if</span> score &lt; <span class="number">0</span> || score &gt; <span class="number">100</span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"不合理的分数"</span>)</div><div class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span> score &lt; <span class="number">60</span>&#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"不及格"</span>)</div><div class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span> score &lt; <span class="number">80</span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"及格"</span>)</div><div class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span> score &lt; <span class="number">90</span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"良好"</span>)</div><div class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span> score &lt;= <span class="number">100</span>&#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"不错哦"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="三目运算的使用"><a href="#三目运算的使用" class="headerlink" title="三目运算的使用"></a>三目运算的使用</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> sister = <span class="number">20</span></div><div class="line"><span class="keyword">let</span> brother = <span class="number">22</span></div><div class="line"><span class="keyword">var</span> <span class="built_in">max</span> = <span class="number">0</span></div><div class="line"><span class="comment">//if-else实现</span></div><div class="line"><span class="keyword">if</span> sister &gt; brother&#123;</div><div class="line">    <span class="built_in">max</span> = sister</div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line">    <span class="built_in">max</span> = brother</div><div class="line">&#125;</div><div class="line"><span class="comment">//三目运算符实现</span></div><div class="line"><span class="keyword">let</span> maxer = sister &gt; brother ? sister : brother</div></pre></td></tr></table></figure>
<h3 id="Swift中特有的guard的使用"><a href="#Swift中特有的guard的使用" class="headerlink" title="Swift中特有的guard的使用"></a>Swift中特有的guard的使用</h3><p>guard是swift2.0才新增的语法；它是为了提高程序的可读性；</p>
<p>guard语句必须带有else语句</p>
<ul>
<li>当条件表达式为true的时候跳过else语句中的内容，执行语句组中的内容；</li>
<li>当条件表达式为false的时候执行else语句中的内容，跳转语句一般是return，break，continue和throw；</li>
</ul>
<p><code>注意：guard必须用在函数里面</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//guard的使用</span></div><div class="line"><span class="comment">/* </span></div><div class="line"> guard 条件表达式 else &#123;</div><div class="line"> //执行的语句</div><div class="line"> break</div><div class="line"> &#125;</div><div class="line"> //语句组</div><div class="line">*/</div><div class="line"></div><div class="line"><span class="keyword">var</span> age = <span class="number">20</span></div><div class="line"></div><div class="line"><span class="comment">//if-else实现</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">online1</span><span class="params">(age :Int)</span></span> -&gt; <span class="type">Void</span> &#123;</div><div class="line">    <span class="keyword">if</span> age &gt;= <span class="number">18</span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"可以留下来上网"</span>)</div><div class="line">    &#125;<span class="keyword">else</span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"回家找妈妈"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//guard实现</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">online2</span><span class="params">(age :Int)</span></span> -&gt;<span class="type">Void</span>&#123;</div><div class="line">    <span class="keyword">guard</span> age &gt;= <span class="number">18</span> <span class="keyword">else</span>&#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"回家找妈妈吧"</span>)</div><div class="line">        <span class="keyword">return</span></div><div class="line">    &#125;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"留下来吧"</span>)</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">online1(age: age)<span class="comment">//if-else实现</span></div><div class="line">online2(age: age)<span class="comment">//guard实现</span></div><div class="line"></div><div class="line"><span class="comment">//guard可以解决if-else复杂情况下的嵌套问题，可以避免多重嵌套</span></div></pre></td></tr></table></figure>
<h3 id="Switch的使用"><a href="#Switch的使用" class="headerlink" title="Switch的使用"></a>Switch的使用</h3><p>Swift中的Switch功能被大大的增强了；</p>
<h4 id="1-switch的基本使用"><a href="#1-switch的基本使用" class="headerlink" title="1.switch的基本使用"></a>1.switch的基本使用</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 0:男 1：女</span></div><div class="line"><span class="keyword">let</span> gender = <span class="number">0</span></div><div class="line"><span class="comment">//1&gt; switch后面的()可以省略</span></div><div class="line"><span class="comment">//2&gt; case语句结束后，break也可以省略,不会出现case穿透</span></div><div class="line"><span class="keyword">switch</span> gender&#123;</div><div class="line"><span class="keyword">case</span> <span class="number">0</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"男"</span>)</div><div class="line"><span class="keyword">case</span> <span class="number">1</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"女"</span>)</div><div class="line"><span class="keyword">default</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"其他"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="2-Switch的基本使用的补充"><a href="#2-Switch的基本使用的补充" class="headerlink" title="2. Switch的基本使用的补充"></a>2. Switch的基本使用的补充</h4><ul>
<li>如果系统某一个case中产生case穿透，可以在case结束后跟上fallthough</li>
<li>case后面可以判断多个条件，多个条件以逗号分割；case 0,1</li>
</ul>
<h4 id="3-Swift中switch的特殊用法"><a href="#3-Swift中switch的特殊用法" class="headerlink" title="3.Swift中switch的特殊用法"></a>3.Swift中switch的特殊用法</h4><ul>
<li>3.1 switch可以判断浮点型</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> t = <span class="number">3.14</span></div><div class="line"><span class="keyword">switch</span> t&#123;</div><div class="line"><span class="keyword">case</span> <span class="number">3.14</span> :</div><div class="line">    <span class="built_in">print</span>(<span class="string">"是圆周率"</span>)</div><div class="line"><span class="keyword">default</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"不是圆周率"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>3.2 switch可以判断字符创</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> operater1 = <span class="number">20</span></div><div class="line"><span class="keyword">let</span> operater2 = <span class="number">30</span></div><div class="line"><span class="keyword">let</span> operation = <span class="string">"+"</span></div><div class="line"><span class="keyword">var</span> resultOfOperation = <span class="number">0</span></div><div class="line"><span class="keyword">switch</span> operation &#123;</div><div class="line"><span class="keyword">case</span> <span class="string">"+"</span>:</div><div class="line">    resultOfOperation = operater1 + operater2</div><div class="line"><span class="keyword">case</span> <span class="string">"-"</span>:</div><div class="line">    resultOfOperation = operater1 - operater2</div><div class="line"><span class="keyword">case</span> <span class="string">"*"</span>:</div><div class="line">    resultOfOperation = operater1 * operater2</div><div class="line"><span class="keyword">case</span> <span class="string">"/"</span>:</div><div class="line">    resultOfOperation = operater1 / operater2</div><div class="line"><span class="keyword">default</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"非法操作符"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>3.3 switch可以判断区间</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//swift中的switch可以判断的区间</span></div><div class="line"><span class="comment">//开区间：0..&lt;20 0-19</span></div><div class="line"><span class="comment">//闭区间：0...20 0-20</span></div><div class="line"><span class="keyword">let</span> scoreT = <span class="number">88</span></div><div class="line"><span class="keyword">switch</span> scoreT &#123;</div><div class="line"><span class="keyword">case</span> <span class="number">0</span>..&lt;<span class="number">60</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"不及格"</span>)</div><div class="line"><span class="keyword">case</span> <span class="number">60</span>..&lt;<span class="number">80</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"及格"</span>)</div><div class="line"><span class="keyword">case</span> <span class="number">80</span>..&lt;<span class="number">90</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"良好"</span>)</div><div class="line"><span class="keyword">case</span> <span class="number">90</span>...<span class="number">100</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"优秀"</span>)</div><div class="line"><span class="keyword">default</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"不合理的分数"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="循环的使用"><a href="#循环的使用" class="headerlink" title="循环的使用"></a>循环的使用</h3><h4 id="for-循环"><a href="#for-循环" class="headerlink" title="for 循环"></a>for 循环</h4><p>for后面的小括号可以省略,for-in</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//for in循环</span></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>  ..&lt; <span class="number">10</span> &#123;</div><div class="line">    <span class="built_in">print</span>(i)</div><div class="line">&#125;</div><div class="line"><span class="comment">//省略变量的情况</span></div><div class="line"><span class="keyword">for</span> <span class="number">_</span> <span class="keyword">in</span> <span class="number">0</span>...<span class="number">9</span>&#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"Hello world"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>在Swift中如果一个标识符不需要使用，可以使用下划线 _ 来代替</code></p>
<h4 id="while-和-repeat-while循环"><a href="#while-和-repeat-while循环" class="headerlink" title="while 和 repeat while循环"></a>while 和 repeat while循环</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//swift中的写法</span></div><div class="line"><span class="keyword">var</span> randomNumeber1 = <span class="number">10</span></div><div class="line"><span class="keyword">while</span> randomNumeber1 &gt; <span class="number">0</span> &#123;</div><div class="line">    <span class="built_in">print</span>(randomNumeber1)</div><div class="line">    randomNumeber1 -= <span class="number">1</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">repeat</span> &#123;</div><div class="line">    randomNumeber1 += <span class="number">1</span></div><div class="line">    <span class="built_in">print</span>(randomNumeber1)</div><div class="line">&#125;<span class="keyword">while</span> randomNumeber1&lt;<span class="number">10</span></div></pre></td></tr></table></figure>
<h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><p>OC中的字符串类型是NSString类型，Swift中是String</p>
<p>OC中字符串@””,Swift中字符串””</p>
<p>String和NSString之间可以无缝转换</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//字符串</span></div><div class="line"><span class="keyword">let</span> str = <span class="string">"Donkey-Tao is taofei"</span></div><div class="line"><span class="keyword">for</span> <span class="built_in">c</span> <span class="keyword">in</span> str.characters &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="built_in">c</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>字符串的拼接</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> str1 = <span class="string">"Donkey-Tao"</span></div><div class="line"><span class="keyword">let</span> str2 = <span class="string">"taofei"</span></div><div class="line"><span class="keyword">let</span> str3 = str1 + str2</div></pre></td></tr></table></figure>
<ul>
<li>字符串和其他标识符之间的拼接</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> name = <span class="string">"taofei"</span></div><div class="line"><span class="keyword">let</span> ageOfTaofei = <span class="number">18</span></div><div class="line"><span class="keyword">let</span> height = <span class="number">1.88</span></div><div class="line"><span class="keyword">let</span> info = <span class="string">"my name is \(name) ,my age is \(ageOfTaofei),my height is \(height)"</span></div></pre></td></tr></table></figure>
<ul>
<li>拼接字符串时，字符串的格式化</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> <span class="built_in">min</span> = <span class="number">2</span></div><div class="line"><span class="keyword">let</span> second = <span class="number">18</span></div><div class="line"><span class="keyword">let</span> timeSting =  <span class="type">String</span>(format:<span class="string">"%02d:%02d"</span>,arguments:[<span class="built_in">min</span>,second])</div><div class="line"><span class="comment">//OC的数组，字典中不能放基本数据类型，swift中可以</span></div></pre></td></tr></table></figure>
<ul>
<li>字符串的截取</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> urlString = <span class="string">"http://taofei.me"</span></div><div class="line"><span class="comment">//let header = urlString.substring(to: 6)//这里比较麻烦</span></div><div class="line"><span class="comment">//可以将String转化为NSString</span></div><div class="line"><span class="keyword">let</span> header = (urlString <span class="keyword">as</span> <span class="type">NSString</span>).substring(to: <span class="number">4</span>)</div><div class="line"><span class="comment">//let centet = (urlString as NSString).subsringWithRange(NSMakeRange(8, 13))//这个函数有点问题</span></div><div class="line"><span class="keyword">let</span> footer = (urlString <span class="keyword">as</span> <span class="type">NSString</span>).substring(from: <span class="number">14</span>)</div></pre></td></tr></table></figure>
<h2 id="数组的使用"><a href="#数组的使用" class="headerlink" title="数组的使用"></a>数组的使用</h2><h3 id="定义数组-数组是一个泛型集合"><a href="#定义数组-数组是一个泛型集合" class="headerlink" title="定义数组(数组是一个泛型集合)"></a>定义数组(数组是一个泛型集合)</h3><ul>
<li>1&gt; 定义不可变数组:使用let修饰标识定义出来的数组就是不可变数组</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> numberArray = [<span class="number">10</span>,<span class="number">221</span>,<span class="number">90</span>,<span class="number">12</span>]</div><div class="line"><span class="keyword">let</span> nameArray = [<span class="string">"taofei"</span>,<span class="string">"Donkey-Tao"</span>]</div></pre></td></tr></table></figure>
<ul>
<li>2&gt; 定义可变数组:使用var修饰标识符定义出来的数组就是可变数组</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//var arrayM = Array&lt;String&gt;()</span></div><div class="line"><span class="keyword">var</span> arrayM = <span class="type">String</span></div></pre></td></tr></table></figure>
<h3 id="对可变数组的基本操作"><a href="#对可变数组的基本操作" class="headerlink" title="对可变数组的基本操作"></a>对可变数组的基本操作</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">arrayM.append(<span class="string">"taofei"</span>)</div><div class="line">arrayM.append(<span class="string">"Donkey-Tao"</span>)</div><div class="line">arrayM.append(<span class="string">"taofei.me"</span>)</div><div class="line">arrayM.remove(at: <span class="number">0</span>)</div><div class="line">arrayM</div><div class="line">arrayM[<span class="number">0</span>] = <span class="string">"taofei.Donkey-Tao"</span></div><div class="line">arrayM[<span class="number">1</span>]</div></pre></td></tr></table></figure>
<h3 id="数组的遍历-三种遍历方式"><a href="#数组的遍历-三种遍历方式" class="headerlink" title="数组的遍历:三种遍历方式"></a>数组的遍历:三种遍历方式</h3><ul>
<li>1.根据下标</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;arrayM.<span class="built_in">count</span> &#123;</div><div class="line">    <span class="built_in">print</span>(arrayM[i])</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>2.直接遍历</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> name <span class="keyword">in</span> arrayM &#123;</div><div class="line">    <span class="built_in">print</span>(name)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>3.遍历前两个元素</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;<span class="number">2</span> &#123;</div><div class="line">    <span class="built_in">print</span>(arrayM[i])</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">for</span> name <span class="keyword">in</span> arrayM[<span class="number">0</span>..&lt;<span class="number">2</span>] &#123;</div><div class="line">    <span class="built_in">print</span>(name)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="数组的合并-相同类型才可以相加合并"><a href="#数组的合并-相同类型才可以相加合并" class="headerlink" title="数组的合并:相同类型才可以相加合并"></a>数组的合并:相同类型才可以相加合并</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> resultArray = nameArray + arrayM <span class="comment">//不同类型的数组不能相加合并</span></div></pre></td></tr></table></figure>
<h2 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h2><p>swift中字典也是泛型的集合</p>
<h3 id="定义字典"><a href="#定义字典" class="headerlink" title="定义字典"></a>定义字典</h3><ul>
<li>定义不可变字典:使用let修饰</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> dict : [<span class="type">String</span> : <span class="type">Any</span>] = [<span class="string">"name"</span> : <span class="string">"taofei"</span>,<span class="string">"age"</span> : <span class="number">18</span>]<span class="comment">//系统会判断时数组还是字典</span></div></pre></td></tr></table></figure>
<ul>
<li>定义可变字典:使用var修饰</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//var dictM = Dictionary&lt;String , Any&gt;()</span></div><div class="line"><span class="keyword">var</span> dictM=[<span class="type">String</span> : <span class="type">AnyObject</span>]()</div></pre></td></tr></table></figure>
<h3 id="对可变字典的基本操作"><a href="#对可变字典的基本操作" class="headerlink" title="对可变字典的基本操作"></a>对可变字典的基本操作</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">dictM[<span class="string">"info"</span>] = <span class="string">"Donkey-Tao"</span> <span class="keyword">as</span> <span class="type">AnyObject</span>?</div><div class="line">dictM[<span class="string">"name"</span>] = <span class="string">"taofei"</span> <span class="keyword">as</span> <span class="type">AnyObject</span>?</div><div class="line">dictM[<span class="string">"age"</span>] = <span class="number">18</span> <span class="keyword">as</span> <span class="type">AnyObject</span>?</div><div class="line">dictM</div><div class="line">dictM.removeValue(forKey: <span class="string">"name"</span>)</div><div class="line">dictM</div><div class="line"><span class="comment">//如果字典中有了对应的key进行修改,如果没有添加对应的key/value</span></div><div class="line">dictM[<span class="string">"info"</span>] = <span class="string">"taofei"</span> <span class="keyword">as</span> <span class="type">AnyObject</span>?</div><div class="line">dictM</div></pre></td></tr></table></figure>
<h3 id="遍历字典"><a href="#遍历字典" class="headerlink" title="遍历字典"></a>遍历字典</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//遍历字典中所有的key</span></div><div class="line"><span class="keyword">for</span> key <span class="keyword">in</span> dictM.keys &#123;</div><div class="line">    <span class="built_in">print</span>(key)</div><div class="line">&#125;</div><div class="line"><span class="comment">//遍历字典中所有的value</span></div><div class="line"><span class="keyword">for</span> value <span class="keyword">in</span> dictM.values &#123;</div><div class="line">    <span class="built_in">print</span>(value)</div><div class="line">&#125;</div><div class="line"><span class="comment">//遍历字典中所有的key,value</span></div><div class="line"><span class="keyword">for</span> (key , value) <span class="keyword">in</span> dictM &#123;</div><div class="line">    <span class="built_in">print</span>(key)</div><div class="line">    <span class="built_in">print</span>(value)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="合并字典"><a href="#合并字典" class="headerlink" title="合并字典"></a>合并字典</h3><p><code>即使类型一致也不能相加进行合并</code></p>
<p>要想实现字典合并可以将字典遍历出来一个一个加到一个可变字典中</p>
<h2 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h2><ul>
<li>元组是Swift中<code>特有</code>的,OC中没有相应的数据类型</li>
<li>它也是一种数据结构,在数学中应用广泛</li>
<li>类似数组或者字典</li>
<li>可以用来定义一组数据</li>
</ul>
<h3 id="元组的定义"><a href="#元组的定义" class="headerlink" title="元组的定义"></a>元组的定义</h3><ul>
<li>使用数组定义一组数据</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> array=[<span class="string">"taofei"</span>,<span class="number">18</span>,<span class="number">1.88</span>] <span class="keyword">as</span> [<span class="type">Any</span>]</div><div class="line">array[<span class="number">0</span>]</div><div class="line">array[<span class="number">1</span>]</div></pre></td></tr></table></figure>
<ul>
<li>使用字典定义一组数据</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> dictOfInfo = [<span class="string">"name"</span> : <span class="string">"taofei"</span> ,<span class="string">"age"</span> :<span class="number">18</span>] <span class="keyword">as</span> [<span class="type">String</span> : <span class="type">Any</span>]</div><div class="line">dictOfInfo[<span class="string">"name"</span>]</div></pre></td></tr></table></figure>
<ul>
<li><p>使用元组:(一般用于作为方法的返回值,可以返回多个参数)</p>
</li>
<li><p>一般写法</p>
</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> infoYuanzu = (<span class="string">"name"</span> ,<span class="number">18</span> ,<span class="number">1.88</span> )</div><div class="line">infoYuanzu.<span class="number">0</span></div><div class="line">infoYuanzu.<span class="number">1</span></div></pre></td></tr></table></figure>
<ul>
<li>可以给元组的每一个元素取一个别名</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> infoYuanzu2 = (name : <span class="string">"taofei"</span>,<span class="number">18</span>,<span class="number">1.85</span>)</div><div class="line">infoYuanzu2.name</div></pre></td></tr></table></figure>
<ul>
<li>元组中元素的别名,就是元组的名称</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> (name_yuanzu,age_yuanzu,height_yuanzu) = (<span class="string">"taofei"</span>,<span class="number">18</span>,<span class="number">1.85</span>)</div></pre></td></tr></table></figure>
<p>​</p>
<h2 id="可选类型"><a href="#可选类型" class="headerlink" title="可选类型"></a>可选类型</h2><h3 id="可选类型的介绍"><a href="#可选类型的介绍" class="headerlink" title="可选类型的介绍"></a>可选类型的介绍</h3><p><code>注意</code>:可选类型是swift中较难理解得一个知识点</p>
<ul>
<li>在OC中,如果一个变量暂时不使用,可以赋值为0(基本数据类型)或者赋值为nil(对象类型)</li>
<li>在swift中,nil也是一种特殊的类型,因为和真实类型不匹配是不能赋值的(swift是强类型语言)</li>
</ul>
<h3 id="可选类型定义"><a href="#可选类型定义" class="headerlink" title="可选类型定义"></a>可选类型定义</h3><ul>
<li>常规方式:不常用</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> optionalName :<span class="type">Optional</span>&lt;<span class="type">String</span>&gt; = <span class="literal">nil</span></div></pre></td></tr></table></figure>
<ul>
<li>语法糖:常用</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> optionalInfo : <span class="type">String</span>? = <span class="literal">nil</span></div></pre></td></tr></table></figure>
<h3 id="给可选类型赋值"><a href="#给可选类型赋值" class="headerlink" title="给可选类型赋值"></a>给可选类型赋值</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">optionalInfo = <span class="string">"taofei"</span></div></pre></td></tr></table></figure>
<h3 id="取出可选类型中的值"><a href="#取出可选类型中的值" class="headerlink" title="取出可选类型中的值"></a>取出可选类型中的值</h3><p><code>可选类型  + ! :强制解包</code></p>
<p><code>注意:强制解包是非常危险的操作,如果可选类型为nil,强制解包系统会崩溃</code></p>
<p><code>建议:在强制解包前,先判断可选类型,判断是否为nil</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> optionalInfo != <span class="literal">nil</span>&#123;</div><div class="line"><span class="built_in">print</span>(optionalInfo!)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="可选绑定"><a href="#可选绑定" class="headerlink" title="可选绑定"></a>可选绑定</h3><p>可以实现不需每次使用都要强制解包</p>
<ul>
<li>写法一:不常用</li>
</ul>
<p>1.判断optionalInfo是否有值,如果没有值,直接不执行{}<br>2.如果optionalInfo有值,系统会自动将name进行解包,并且将解包后的结果赋值给tempInfo</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> tempInfo = optionalInfo &#123;</div><div class="line"><span class="built_in">print</span>(tempInfo)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>写法二:常用</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> optionalInfo = optionalInfo&#123;</div><div class="line"><span class="built_in">print</span>(optionalInfo)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="可选类型的应用场景"><a href="#可选类型的应用场景" class="headerlink" title="可选类型的应用场景"></a>可选类型的应用场景</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//1. 通过一个字符串创建NSURL对象,如果有中文是创建不出来url的</span></div><div class="line"><span class="keyword">let</span> urlOptional : <span class="type">NSURL</span>? = <span class="type">NSURL</span>(string: <span class="string">"http://taofei.me"</span>)<span class="comment">//后面返回的是NSURL的可选类型</span></div><div class="line"></div><div class="line"><span class="comment">//根据url创建 </span></div><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> urlOptional = urlOptional &#123;</div><div class="line"><span class="keyword">let</span> request = <span class="type">NSURLRequest</span>(url: urlOptional <span class="keyword">as</span> <span class="type">URL</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p>相当于OC中的方法</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> 函数名<span class="params">(参数列表)</span></span> -&gt; 返回值类型 &#123;</div><div class="line">代码块</div><div class="line"><span class="keyword">return</span> 返回值</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>常见函数</p>
<ul>
<li>没有参数,没有返回值</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">about</span><span class="params">()</span></span> -&gt; <span class="type">Void</span> &#123;<span class="comment">//这里的Void可以省略</span></div><div class="line"><span class="built_in">print</span>(<span class="string">"taofei.me"</span>)</div><div class="line">&#125;</div><div class="line">about()</div></pre></td></tr></table></figure>
<ul>
<li>没有参数,有返回值</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">readMessage</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line"><span class="keyword">return</span> <span class="string">"学海无涯,回头是岸"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>有参数,没有返回值</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">callPhone</span><span class="params">(phoneNum : String)</span></span> &#123;</div><div class="line"><span class="built_in">print</span>(<span class="string">"打电话给我:\(phoneNum)"</span>)</div><div class="line">&#125;</div><div class="line">callPhone(phoneNum: <span class="string">"18788858283"</span>)</div></pre></td></tr></table></figure>
<ul>
<li>有参数,有返回值</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(num1 : Int , num2 : Int)</span></span> -&gt; <span class="type">Int</span>&#123;</div><div class="line"><span class="keyword">return</span> num1+num2</div><div class="line">&#125;</div><div class="line"><span class="built_in">print</span>(sum(num1: <span class="number">20</span>, num2: <span class="number">30</span>))</div></pre></td></tr></table></figure>
<p><code>函数的使用注意:</code></p>
<ul>
<li><p>内部参数与外部参数:在函数内部能够看到的参数就是内部参数,在函数外部可以看到的参数名称,默认从第二个参数开始既是内部参数也是外部参数,默认第一个参数只是内部参数,如果希望第一个也是外部参数,在标识符前面添加一个别名:在Xcode8.1.2已经不是这样了</p>
</li>
<li><p>函数设置默认参数</p>
</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">makeCoffee</span><span class="params">(coffeeName : String = <span class="string">"雀巢"</span>)</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line"><span class="keyword">return</span><span class="string">"制作了一杯\(coffeeName)咖啡"</span></div><div class="line">&#125;</div><div class="line">makeCoffee(coffeeName: <span class="string">"拿铁"</span>)</div><div class="line">makeCoffee(coffeeName: <span class="string">"卡布奇诺"</span>)</div><div class="line">makeCoffee(coffeeName: <span class="string">"猫屎"</span>)</div><div class="line"></div><div class="line">makeCoffee(coffeeName: <span class="string">"随便"</span>)</div><div class="line">makeCoffee()<span class="comment">//默认参数</span></div></pre></td></tr></table></figure>
<ul>
<li>可变参数(参数的个数可变)</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">sumMulti</span><span class="params">(num : Int...)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line"><span class="keyword">var</span> result = <span class="number">0</span></div><div class="line"><span class="keyword">for</span> n <span class="keyword">in</span> num &#123;</div><div class="line">result += n</div><div class="line">&#125;</div><div class="line"><span class="keyword">return</span> result</div><div class="line">&#125;</div><div class="line">sumMulti(num: <span class="number">18</span>,<span class="number">19</span>,<span class="number">20</span>)</div><div class="line"><span class="built_in">print</span>(sumMulti(num: <span class="number">18</span>,<span class="number">19</span>,<span class="number">20</span>))</div></pre></td></tr></table></figure>
<ul>
<li>函数参数的地址传递</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> number1 = <span class="number">20</span></div><div class="line"><span class="keyword">var</span> number2 = <span class="number">30</span></div><div class="line"></div><div class="line"><span class="comment">//默认情况下,swift函数中的参数传递也是值传递</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">swapNum</span><span class="params">( m :<span class="keyword">inout</span> Int , n :<span class="keyword">inout</span> Int)</span></span>&#123;</div><div class="line"><span class="keyword">let</span> tempNum = m;</div><div class="line">m = n</div><div class="line">n = tempNum</div><div class="line">&#125;</div><div class="line">swapNum(m: &amp;number1, n: &amp;number2)</div><div class="line"><span class="built_in">print</span>(<span class="string">"m=\(number1),number2=\(number2)"</span>)</div></pre></td></tr></table></figure>
<ul>
<li>函数的嵌套使用(为程序的可读性,不要用)</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span></span>&#123;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">demo</span><span class="params">()</span></span>&#123;</div><div class="line"><span class="built_in">print</span>(<span class="string">"demo"</span>)</div><div class="line">&#125;</div><div class="line"><span class="built_in">print</span>(<span class="string">"test"</span>)</div><div class="line">&#125;</div><div class="line">test()<span class="comment">//此时不会打印demo,因为只是在函数中定义了,并没有调用</span></div></pre></td></tr></table></figure>
<h3 id="类的构造函数"><a href="#类的构造函数" class="headerlink" title="类的构造函数"></a>类的构造函数</h3><ul>
<li>构造函数类似于OC中的初始化方法:init方法</li>
<li>默认情况下创建一个类时,必然会调用一个构造函数</li>
<li>即使是没有编写构造函数编译器也会提供一个默认的构造函数</li>
<li>如果是继承自NSObject,可以对父类的构造函数进行重写</li>
</ul>
<h4 id="构造函数的使用"><a href="#构造函数的使用" class="headerlink" title="构造函数的使用"></a>构造函数的使用</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">TFPerson</span> : <span class="title">NSObject</span> </span>&#123;</div><div class="line"></div><div class="line"><span class="keyword">var</span> name : <span class="type">String</span>?</div><div class="line"><span class="keyword">var</span> age : <span class="type">Int</span> = <span class="number">0</span></div><div class="line"></div><div class="line"><span class="keyword">override</span> <span class="keyword">init</span>() &#123;</div><div class="line"><span class="comment">//在构造函数中,如果没有明确调用super.init(),那么系统会帮助调用</span></div><div class="line"><span class="built_in">print</span>(<span class="string">"TFPerson init"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//自定义构造函数</span></div><div class="line"><span class="keyword">init</span>(name :<span class="type">String</span> ,age : <span class="type">Int</span>)&#123;</div><div class="line"><span class="keyword">self</span>.name = name</div><div class="line"><span class="keyword">self</span>.age = age</div><div class="line">&#125;</div><div class="line"><span class="comment">//构造函数,通过一个字典初始化一个对象</span></div><div class="line"><span class="keyword">init</span>(dict : [<span class="type">String</span> : <span class="type">AnyObject</span>])&#123;</div><div class="line"><span class="comment">//dict["name"]是AnyObject?,要转成String?</span></div><div class="line"><span class="comment">//as? 最终转成的类型是一个可选类型</span></div><div class="line">name = dict[<span class="string">"name"</span>] <span class="keyword">as</span>? <span class="type">String</span></div><div class="line"><span class="comment">//as! 最终转成的类型是一个确定的类型</span></div><div class="line">age = dict[<span class="string">"age"</span>] <span class="keyword">as</span>! <span class="type">Int</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> tempAge = dict[<span class="string">"age"</span>] <span class="keyword">as</span>? <span class="type">Int</span>&#123;</div><div class="line">age = tempAge</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//一般通过KVC实现</span></div><div class="line"><span class="keyword">init</span>(dictionary : [<span class="type">String</span> :<span class="type">AnyObject</span>])&#123;</div><div class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>()<span class="comment">//系统帮助自动调用是在最后调用</span></div><div class="line">    setValuesForKeys(dictionary)</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">setValue</span><span class="params">(<span class="number">_</span> value: Any?, forUndefinedKey key: String)</span></span> &#123;        </div><div class="line">        <span class="built_in">print</span>(<span class="string">"没有相应的属性"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> taofei0610 = <span class="type">TFPerson</span>()</div><div class="line"><span class="keyword">let</span> taofei0512 = <span class="type">TFPerson</span>(name: <span class="string">"TAOFEI"</span>, age: <span class="number">18</span>)</div><div class="line"><span class="built_in">print</span>(<span class="string">"name=\(taofei0512.name),age=\(taofei0512.age)"</span>)</div><div class="line"></div><div class="line"><span class="keyword">let</span> taofei0513 = <span class="type">TFPerson</span>(dict: [<span class="string">"name"</span> : <span class="string">"Donkey"</span> <span class="keyword">as</span> <span class="type">AnyObject</span> ,<span class="string">"age"</span> :<span class="number">18</span> <span class="keyword">as</span> <span class="type">AnyObject</span> ,<span class="string">"height"</span> : <span class="number">1.85</span> <span class="keyword">as</span> <span class="type">AnyObject</span>])</div></pre></td></tr></table></figure>
<h4 id="类的属性监听器"><a href="#类的属性监听器" class="headerlink" title="类的属性监听器"></a>类的属性监听器</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//属性监听器</span></div><div class="line"><span class="keyword">var</span> name : <span class="type">String</span>? &#123;</div><div class="line"><span class="comment">//属性即将改变时进行监听</span></div><div class="line"><span class="keyword">willSet</span>&#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"newValue=\(newValue)"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//属性已经改变时进行监听,常用</span></div><div class="line"><span class="keyword">didSet</span>&#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"oldValue=\(oldValue)"</span>)</div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>监听类创建对象后对象的属性改变</p>
<h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><p>闭包和OC中的block非常相似</p>
<ul>
<li>OC中的block是一个匿名的函数</li>
<li>Swift中的闭包是一个特殊的函数</li>
<li>block和闭包都是经常用于回调</li>
</ul>
<p><code>注意:闭包和block一样,第一次使用时可能不习惯他的语法,可以先按照固定的格式去写,使用简单的闭包,随着学习的深入慢慢灵活应用</code></p>
<h3 id="block的用法回顾"><a href="#block的用法回顾" class="headerlink" title="block的用法回顾"></a>block的用法回顾</h3><p>block一般用于回调,用于网络请求(异步请求)的回调比较多</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">@inerface HttpTool : NSObject</div><div class="line">//函数里面请求到的数据以block的形式回调出来,需要block参数</div><div class="line">//这里的block没有返回值,(^)表示block类型,block需要参数</div><div class="line">-(void)loadData:(void (^)(NSString *jsonData))callback;</div><div class="line">@end</div><div class="line"></div><div class="line">@implementation HttpTool</div><div class="line">-(void)loadData:(void (^)(NSString *jsonData))callback&#123;</div><div class="line">    dispatch_async(dispatch_get_global_queue(0,0)^&#123;</div><div class="line">        NSLog(@&quot;发送网络请求:%@&quot;,[NSThread currentThread]);</div><div class="line">        dispatch_sync(dispatch_get_main_queue(),^&#123;</div><div class="line">            NSLog(@&quot;拿到数据并且进行回调:%@&quot;,[NSThread currentThread]);</div><div class="line">            callback(@&quot;json数据&quot;);</div><div class="line">&#125;);</div><div class="line">&#125;);</div><div class="line">&#125;</div><div class="line">@end</div></pre></td></tr></table></figure>
<h3 id="闭包的使用"><a href="#闭包的使用" class="headerlink" title="闭包的使用"></a>闭包的使用</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//闭包类型:(参数列表)-&gt;(返回值类型),这里的callback是函数名称</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">loadData</span><span class="params">(callback : <span class="params">(jsondata : String )</span></span></span> -&gt; ())&#123;</div><div class="line">dispatch_async(dispatch_get_global_queue(<span class="number">0</span>,<span class="number">0</span>)&#123;()-&gt; <span class="type">Void</span> <span class="keyword">in</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"发送网络请求\([NSThread currentThread])"</span>);</div><div class="line">    dispatch_sync(dispatch_get_main_queue(),&#123;()-&gt; <span class="type">Void</span> <span class="keyword">in</span></div><div class="line">        <span class="built_in">print</span>(<span class="string">"拿到数据并且进行回调\([NSThread currentThread])"</span>);</div><div class="line">        callback(jsondata : <span class="string">"json数据"</span>);</div><div class="line">&#125;);</div><div class="line">&#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="闭包循环引用的解决"><a href="#闭包循环引用的解决" class="headerlink" title="闭包循环引用的解决"></a>闭包循环引用的解决</h3><p>swift中deinit函数相当于OC中的dealloc方法,当对象被销毁时被调用</p>
<ul>
<li>解决循环引用的方式一:</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">weak</span> <span class="keyword">var</span> weakself = <span class="keyword">self</span></div><div class="line">tool.loadData&#123;(jsondata)-&gt;() <span class="keyword">in</span></div><div class="line">    weakself?view.backgroundColor = <span class="type">UIColor</span>.red</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>注意:nil的内存地址就是0x0</code></p>
<p>weakself?:</p>
<p>如果前面的可选类型没有值,后面所有的代码都不会执行</p>
<p>如果前面的可选类型有值,系统会自动将weakself解包</p>
<ul>
<li>解决循环引用的方式二:<code>推荐</code></li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">tool.loadData&#123;[<span class="keyword">weak</span> <span class="keyword">self</span>] (jsondata)-&gt;() <span class="keyword">in</span></div><div class="line">    <span class="keyword">self</span>?view.backgroundColor = <span class="type">UIColor</span>.red</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>解决循环引用的方式三:</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">tool.loadData&#123;[<span class="keyword">unowned</span> <span class="keyword">self</span>] (jsondata)-&gt;() <span class="keyword">in</span></div><div class="line">    <span class="keyword">self</span>.view.backgroundColor = <span class="type">UIColor</span>.red</div><div class="line">&#125;</div><div class="line"><span class="comment">//这样写比较危险,这里的self如果为空就会崩溃</span></div><div class="line"><span class="comment">//unowned相当于OC中的__unsafe_unretained</span></div></pre></td></tr></table></figure>
<p><code>注意:</code></p>
<p>__weak修饰的弱引用,如果指向的对象销毁,那么指针会立马指向nil(0x0)</p>
<p>__unsafe_unretained修饰的弱引用,如果指向的对象销毁,那么指针依然指向之前的内存地址,很容易产生”野指针”,坏内存访问</p>
<h3 id="尾随闭包"><a href="#尾随闭包" class="headerlink" title="尾随闭包"></a>尾随闭包</h3><p>如果闭包作为方法的最后一个参数,那么闭包可以将()省略掉</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//普通写法闭包</span></div><div class="line">tool.loadData(&#123;[<span class="keyword">weak</span> <span class="keyword">self</span>] (jsondata)-&gt;() <span class="keyword">in</span></div><div class="line">    <span class="keyword">self</span>?view.backgroundColor = <span class="type">UIColor</span>.red</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//尾随闭包写法一:</span></div><div class="line">tool.loadData&#123;[<span class="keyword">weak</span> <span class="keyword">self</span>] (jsondata)-&gt;() <span class="keyword">in</span></div><div class="line">    <span class="keyword">self</span>?view.backgroundColor = <span class="type">UIColor</span>.red</div><div class="line">&#125;</div><div class="line"><span class="comment">//尾随闭包写法二:</span></div><div class="line">tool.loadData()&#123;[<span class="keyword">weak</span> <span class="keyword">self</span>] (jsondata)-&gt;() <span class="keyword">in</span></div><div class="line">    <span class="keyword">self</span>?view.backgroundColor = <span class="type">UIColor</span>.red</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Swift中的tableView"><a href="#Swift中的tableView" class="headerlink" title="Swift中的tableView"></a>Swift中的tableView</h2><h3 id="简单使用"><a href="#简单使用" class="headerlink" title="简单使用"></a>简单使用</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span> :<span class="title">UIViewController</span></span>&#123;</div><div class="line"><span class="comment">// MARK:- 懒加载tableView</span></div><div class="line"><span class="comment">/// tableView的属性</span></div><div class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> tableView : <span class="type">UITableView</span> = <span class="type">UITableView</span>()&#123;</div><div class="line"><span class="comment">// MARK:- 系统回调的函数</span></div><div class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span>&#123;</div><div class="line"><span class="keyword">super</span>.viewDidLoad()</div><div class="line"><span class="comment">//初始化界面</span></div><div class="line">setupUI()</div><div class="line">&#125;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// MARK:- 设置UI界面相关</span></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ViewController</span></span>&#123;</div><div class="line"><span class="comment">/// 设置UI界面 </span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">setupUI</span><span class="params">()</span></span>&#123;</div><div class="line"><span class="comment">//0.将tableView添加到控制器的View中</span></div><div class="line">view.addSubView(tableView)</div><div class="line"><span class="comment">//1.设置tableView的frame</span></div><div class="line">tableView.frame = view.bounds</div><div class="line"><span class="comment">//2.设置数据源</span></div><div class="line">tableView.dataSource = <span class="keyword">self</span></div><div class="line"><span class="comment">//3.设置代理</span></div><div class="line">tableView.delegate = <span class="keyword">self</span></div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//extension类似于OC中的category,也是只能扩充方法,不能扩充属性</span></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ViewController</span> :<span class="title">UITableViewDataSource</span>,<span class="title">UITbaleViewDelegate</span></span>&#123;</div><div class="line"><span class="comment">// MARK:- 数据源和代理方法</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView : UITableView ,numberOfRowsInSection section :Int)</span></span>-&gt; <span class="type">Int</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">20</span></div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView:UITabelView ,cellForRowAtIndexPath indexPath: NSIndexPath -&gt; UITableViewCell&#123;</span></span></div><div class="line"></div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Swift中的注释:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// MARK:- 懒加载</span></div><div class="line"><span class="comment">/// tableView的属性</span></div></pre></td></tr></table></figure>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        
  <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
    <div>坚持原创技术分享，您的支持将鼓励我继续创作！</div>
    <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
      <span>赏</span>
    </button>
    <div id="QR" style="display: none;">
      
        <div id="wechat" style="display: inline-block">
          <img id="wechat_qr" src="/images/wechatRewardImage.png" alt="Tao Fei WeChat Pay"/>
          <p>微信打赏</p>
        </div>
      
      
        <div id="alipay" style="display: inline-block">
          <img id="alipay_qr" src="/images/alipayRewardImage.png" alt="Tao Fei Alipay"/>
          <p>支付宝打赏</p>
        </div>
      
    </div>
  </div>


      
    </div>


    <footer class="post-footer">
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/03/12/2016-03-12-TFLog:自定义Log/" rel="next" title="TFLog:自定义Log">
                <i class="fa fa-chevron-left"></i> TFLog:自定义Log
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/04/01/2016-04-01-Swift项目/" rel="prev" title="Swift练手项目:新浪微博">
                Swift练手项目:新浪微博 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>

          
          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2016/03/16/2016-03-16-Swift学习笔记/"
           data-title="Swift学习笔记" data-url="http://Donkey-Tao.github.io/2016/03/16/2016-03-16-Swift学习笔记/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.jpg"
               alt="Tao Fei" />
          <p class="site-author-name" itemprop="name">Tao Fei</p>
           
              <p class="site-description motion-element" itemprop="description">I'm a iOS developer interested in data science and artificial intelligence.</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">21</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">13</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/Donkey-Tao" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/taofei0610" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Swift介绍"><span class="nav-number">1.</span> <span class="nav-text">Swift介绍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#初体验之Playground"><span class="nav-number">2.</span> <span class="nav-text">初体验之Playground</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Swift中的数据类型"><span class="nav-number">3.</span> <span class="nav-text">Swift中的数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Swift中的类型推到"><span class="nav-number">3.1.</span> <span class="nav-text">Swift中的类型推到</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Swift中的基本计算"><span class="nav-number">4.</span> <span class="nav-text">Swift中的基本计算</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#逻辑分支"><span class="nav-number">5.</span> <span class="nav-text">逻辑分支</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#if-else-if分支的使用"><span class="nav-number">5.1.</span> <span class="nav-text">if-else-if分支的使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#三目运算的使用"><span class="nav-number">5.2.</span> <span class="nav-text">三目运算的使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Swift中特有的guard的使用"><span class="nav-number">5.3.</span> <span class="nav-text">Swift中特有的guard的使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Switch的使用"><span class="nav-number">5.4.</span> <span class="nav-text">Switch的使用</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-switch的基本使用"><span class="nav-number">5.4.1.</span> <span class="nav-text">1.switch的基本使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-Switch的基本使用的补充"><span class="nav-number">5.4.2.</span> <span class="nav-text">2. Switch的基本使用的补充</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-Swift中switch的特殊用法"><span class="nav-number">5.4.3.</span> <span class="nav-text">3.Swift中switch的特殊用法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#循环的使用"><span class="nav-number">5.5.</span> <span class="nav-text">循环的使用</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#for-循环"><span class="nav-number">5.5.1.</span> <span class="nav-text">for 循环</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#while-和-repeat-while循环"><span class="nav-number">5.5.2.</span> <span class="nav-text">while 和 repeat while循环</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#字符串"><span class="nav-number">6.</span> <span class="nav-text">字符串</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组的使用"><span class="nav-number">7.</span> <span class="nav-text">数组的使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#定义数组-数组是一个泛型集合"><span class="nav-number">7.1.</span> <span class="nav-text">定义数组(数组是一个泛型集合)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#对可变数组的基本操作"><span class="nav-number">7.2.</span> <span class="nav-text">对可变数组的基本操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数组的遍历-三种遍历方式"><span class="nav-number">7.3.</span> <span class="nav-text">数组的遍历:三种遍历方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数组的合并-相同类型才可以相加合并"><span class="nav-number">7.4.</span> <span class="nav-text">数组的合并:相同类型才可以相加合并</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#字典"><span class="nav-number">8.</span> <span class="nav-text">字典</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#定义字典"><span class="nav-number">8.1.</span> <span class="nav-text">定义字典</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#对可变字典的基本操作"><span class="nav-number">8.2.</span> <span class="nav-text">对可变字典的基本操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#遍历字典"><span class="nav-number">8.3.</span> <span class="nav-text">遍历字典</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#合并字典"><span class="nav-number">8.4.</span> <span class="nav-text">合并字典</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#元组"><span class="nav-number">9.</span> <span class="nav-text">元组</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#元组的定义"><span class="nav-number">9.1.</span> <span class="nav-text">元组的定义</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#可选类型"><span class="nav-number">10.</span> <span class="nav-text">可选类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#可选类型的介绍"><span class="nav-number">10.1.</span> <span class="nav-text">可选类型的介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#可选类型定义"><span class="nav-number">10.2.</span> <span class="nav-text">可选类型定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#给可选类型赋值"><span class="nav-number">10.3.</span> <span class="nav-text">给可选类型赋值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#取出可选类型中的值"><span class="nav-number">10.4.</span> <span class="nav-text">取出可选类型中的值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#可选绑定"><span class="nav-number">10.5.</span> <span class="nav-text">可选绑定</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#可选类型的应用场景"><span class="nav-number">10.6.</span> <span class="nav-text">可选类型的应用场景</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#函数"><span class="nav-number">11.</span> <span class="nav-text">函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#类的构造函数"><span class="nav-number">11.1.</span> <span class="nav-text">类的构造函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#构造函数的使用"><span class="nav-number">11.1.1.</span> <span class="nav-text">构造函数的使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#类的属性监听器"><span class="nav-number">11.1.2.</span> <span class="nav-text">类的属性监听器</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#闭包"><span class="nav-number">12.</span> <span class="nav-text">闭包</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#block的用法回顾"><span class="nav-number">12.1.</span> <span class="nav-text">block的用法回顾</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#闭包的使用"><span class="nav-number">12.2.</span> <span class="nav-text">闭包的使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#闭包循环引用的解决"><span class="nav-number">12.3.</span> <span class="nav-text">闭包循环引用的解决</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#尾随闭包"><span class="nav-number">12.4.</span> <span class="nav-text">尾随闭包</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Swift中的tableView"><span class="nav-number">13.</span> <span class="nav-text">Swift中的tableView</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#简单使用"><span class="nav-number">13.1.</span> <span class="nav-text">简单使用</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2013 - 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Tao Fei</span>
</div>





        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i> 本站访客数<span class="busuanzi-value" id="busuanzi_value_site_uv"></span>人次</span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i> 本站总访问量<span class="busuanzi-value" id="busuanzi_value_site_pv"></span>次</span>
  
  
</div>



        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    
    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"taofei"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  













  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("b1TBrJx72NMDsr9SL5QRBIM9-gzGzoHsz", "mfqbxiQnMnHq6lvIpxRfW0TX");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  


  

</body>
</html>
